<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/cosmus-icon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cosmus: Companheiro IA</title>

    <!-- PWA Tags -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#0a0a19" />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
      :root, body[data-theme='cosmic-blue'] {
        --color-background: rgb(10 10 25);
        --color-surface: rgb(20 25 50 / 0.8);
        --color-muted-surface: rgb(30 40 70);
        --color-border: rgb(50 150 255 / 0.2);
        --color-text-base: rgb(220 230 255);
        --color-text-muted: rgb(150 160 190);
        --color-primary: rgb(0 190 255);
        --color-primary-hover: rgb(50 210 255);
        --color-accent: rgb(0 255 255);
        --color-accent-dark: rgb(0 200 200);
        --glow-shadow: 0 0 5px var(--color-accent), 0 0 10px var(--color-accent), 0 0 15px var(--color-accent-dark);
      }

      body[data-theme='deep-nebula'] {
        --color-background: rgb(5 0 20);
        --color-surface: rgb(30 10 50 / 0.8);
        --color-muted-surface: rgb(50 20 80);
        --color-border: rgb(180 80 255 / 0.2);
        --color-text-base: rgb(230 220 255);
        --color-text-muted: rgb(170 160 190);
        --color-primary: rgb(200 100 255);
        --color-primary-hover: rgb(220 120 255);
        --color-accent: rgb(255 80 220);
        --color-accent-dark: rgb(220 50 190);
        --glow-shadow: 0 0 5px var(--color-accent), 0 0 10px var(--color-accent), 0 0 15px var(--color-accent-dark);
      }

      body[data-theme='aurora-borealis'] {
        --color-background: rgb(0 20 20);
        --color-surface: rgb(10 40 40 / 0.8);
        --color-muted-surface: rgb(20 60 60);
        --color-border: rgb(10 220 150 / 0.2);
        --color-text-base: rgb(220 255 250);
        --color-text-muted: rgb(150 190 180);
        --color-primary: rgb(0 255 180);
        --color-primary-hover: rgb(80 255 200);
        --color-accent: rgb(255 100 220);
        --color-accent-dark: rgb(220 70 190);
        --glow-shadow: 0 0 5px var(--color-primary), 0 0 10px var(--color-primary), 0 0 15px var(--color-primary);
      }

      body[data-theme='stardust'] {
        --color-background: rgb(25 25 30);
        --color-surface: rgb(50 50 60 / 0.8);
        --color-muted-surface: rgb(70 70 80);
        --color-border: rgb(255 230 180 / 0.2);
        --color-text-base: rgb(240 240 245);
        --color-text-muted: rgb(180 180 190);
        --color-primary: rgb(255 215 0);
        --color-primary-hover: rgb(255 225 50);
        --color-accent: rgb(200 220 255);
        --color-accent-dark: rgb(180 200 235);
        --glow-shadow: 0 0 5px var(--color-primary), 0 0 10px var(--color-primary), 0 0 15px var(--color-primary);
      }

      body {
        font-family: 'Share Tech Mono', monospace;
        background-color: var(--color-background);
        transition: background-color 0.5s ease, color 0.5s ease;
        overflow-x: hidden; /* Previne scroll horizontal da animação */
      }
      
      .glow-text {
        text-shadow: 0 0 4px var(--color-accent), 0 0 6px var(--color-accent);
      }
      
      .spaceship-panel {
        background-color: var(--color-surface);
        border: 1px solid var(--color-border);
        backdrop-filter: blur(10px);
        position: relative;
        transition: background-color 0.5s ease, border-color 0.5s ease;
      }
      
      .spaceship-panel::before,
      .spaceship-panel::after {
        content: '';
        position: absolute;
        width: 20px;
        height: 20px;
        border-color: var(--color-accent);
        border-style: solid;
        pointer-events: none;
        transition: border-color 0.5s ease;
      }
      .spaceship-panel::before {
        top: -1px;
        left: -1px;
        border-width: 2px 0 0 2px;
      }
      .spaceship-panel::after {
        bottom: -1px;
        right: -1px;
        border-width: 0 2px 2px 0;
      }

      .hexagon-clip { 
        clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%); 
      }
      
      .spaceship-button {
        background-color: transparent;
        border: 1px solid var(--color-border);
        color: var(--color-accent);
        padding: 0.5rem 1rem;
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        text-transform: uppercase;
      }
      .spaceship-button:hover:not(:disabled), .spaceship-button:focus:not(:disabled) {
        background-color: var(--color-accent);
        color: var(--color-background);
        box-shadow: var(--glow-shadow);
        border-color: var(--color-accent);
        transform: scale(1.05);
      }
      
      /* Efeitos de Interação */
      .interactive-glow-effect {
          transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1), filter 0.3s cubic-bezier(0.25, 0.8, 0.25, 1), background-color 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      }
      .interactive-glow-effect:hover:not(:disabled),
      .interactive-glow-effect:focus:not(:disabled) {
          transform: scale(1.1);
          filter: drop-shadow(0 0 4px var(--color-accent));
      }

      .interactive-glow-effect-no-scale {
          transition: filter 0.3s ease-in-out, background-color 0.3s ease-in-out;
      }
      .interactive-glow-effect-no-scale:hover:not(:disabled),
      .interactive-glow-effect-no-scale:focus:not(:disabled) {
          filter: drop-shadow(0 0 4px var(--color-accent));
      }

      /* Animação de pulso para navegação */
      @keyframes nav-icon-pulse {
        0%, 100% {
          filter: drop-shadow(0 0 1px var(--color-accent));
        }
        50% {
          filter: drop-shadow(0 0 4px var(--color-accent));
        }
      }
      .animate-nav-pulse {
        animation: nav-icon-pulse 3s infinite ease-in-out;
      }
      
      /* Animações de mensagem de chat */
      @keyframes message-zoom-in {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }
      .animate-ai-message,
      .animate-user-message {
        animation: message-zoom-in 0.4s ease-out forwards;
      }

      /* Animação para a janela de chat */
      @keyframes zoomInFade {
        from {
          opacity: 0;
          transform: scale(0.95);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }
      .animate-chat-window {
        animation: zoomInFade 0.6s ease-out both;
      }

      /* Animação para as sugestões */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .animate-suggestion {
        animation: fadeInUp 0.4s ease-out;
        animation-fill-mode: backwards; /* Aplica o estado 'from' antes da animação começar */
      }
      
      /* Animações para o modal de imagem */
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      .animate-modal-fade-in {
        animation: fadeIn 0.3s ease-out forwards;
      }

      @keyframes zoomInModal {
        from { transform: scale(0.95); opacity: 0; }
        to { transform: scale(1); opacity: 1; }
      }
      .animate-modal-zoom-in {
        animation: zoomInModal 0.3s ease-out forwards;
      }
      
      /* Animação para o toast de instalação do PWA */
      @keyframes slideInUpFade {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
      }
      .animate-toast-in {
          animation: slideInUpFade 0.5s ease-out forwards;
      }

      /* Animação para o toast de Missão Concluída */
      @keyframes slideInDownFadeOut {
        0% {
          opacity: 0;
          transform: translateY(-30px);
        }
        10%, 90% {
          opacity: 1;
          transform: translateY(0);
        }
        100% {
          opacity: 0;
          transform: translateY(-30px);
        }
      }
      .animate-mission-toast {
        animation: slideInDownFadeOut 5s ease-in-out forwards;
      }

      /* Animação para o botão de instalação pronto */
      @keyframes pulse-glow {
        0%, 100% {
          transform: scale(1);
          filter: drop-shadow(0 0 2px var(--color-accent));
        }
        50% {
          transform: scale(1.1);
          filter: drop-shadow(0 0 5px var(--color-accent));
        }
      }
      .animate-install-ready svg {
        animation: pulse-glow 2s infinite ease-in-out;
      }
      
      /* Animação para o botão de microfone */
      @keyframes pulse-mic {
        0%, 100% {
          box-shadow: 0 0 0 0 rgba(0, 255, 255, 0.7);
        }
        50% {
          box-shadow: 0 0 0 10px rgba(0, 255, 255, 0);
        }
      }
      .mic-button.is-listening {
        background-color: var(--color-accent);
        color: var(--color-background);
        animation: pulse-mic 1.5s infinite;
      }

      /* Animação para o ícone do Cosmus em carregamento */
      @keyframes cosmus-pulse-glow {
        0%, 100% {
          transform: scale(1);
          filter: drop-shadow(0 0 3px var(--color-accent));
        }
        50% {
          transform: scale(1.05);
          filter: drop-shadow(0 0 7px var(--color-accent));
        }
      }
      .animate-cosmus-pulse {
        animation: cosmus-pulse-glow 2s infinite ease-in-out;
      }

      /* Animação para o avatar do usuário quando o perfil está aberto */
      @keyframes avatar-pulse {
        0%, 100% {
          transform: scale(1);
          box-shadow: 0 0 0 0px color-mix(in srgb, var(--color-accent) 50%, transparent);
        }
        50% {
          transform: scale(1.05);
          box-shadow: 0 0 10px 2px color-mix(in srgb, var(--color-accent) 70%, transparent);
        }
      }
      .animate-avatar-pulse {
        animation: avatar-pulse 2s infinite ease-in-out;
      }

      /* Scrollbar */
      ::-webkit-scrollbar {
        width: 6px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: var(--color-accent);
        border-radius: 0;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: var(--color-primary-hover);
      }

      /* Animação do Campo Estelar (Otimizada) */
      @keyframes move-twink-back {
          from {transform: translateY(0);}
          to {transform: translateY(-100vh);}
      }

      .stars, .stars2, .stars3 {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          width: 100%;
          height: 200vh; /* O dobro da altura da tela para um loop contínuo */
          display: block;
          z-index: -1;
          background-repeat: repeat-y;
          pointer-events: none;
          /* Otimização: avisa o navegador para otimizar as animações de transformação na GPU. */
          will-change: transform;
      }

      .stars {
          background-image: 
              radial-gradient(1px 1px at 20% 30%, var(--color-border), transparent),
              radial-gradient(1px 1px at 80% 90%, var(--color-border), transparent),
              radial-gradient(1.5px 1.5px at 50% 50%, var(--color-border), transparent),
              radial-gradient(1px 1px at 10% 80%, var(--color-border), transparent),
              radial-gradient(1.2px 1.2px at 90% 10%, var(--color-border), transparent);
          background-size: 50vw 100vh;
      }

      .stars2 {
          background-image: 
              radial-gradient(2px 2px at 40% 60%, var(--color-border), transparent),
              radial-gradient(1.8px 1.8px at 70% 20%, var(--color-border), transparent),
              radial-gradient(2.2px 2.2px at 15% 45%, var(--color-border), transparent);
          background-size: 50vw 100vh;
      }

      .stars3 {
          background-image: 
              radial-gradient(2.5px 2.5px at 5% 95%, var(--color-border), transparent),
              radial-gradient(3px 3px at 85% 55%, var(--color-border), transparent);
          background-size: 50vw 100vh;
      }

      /* Otimização: as animações são executadas apenas se o usuário não tiver a preferência de 'movimento reduzido'. */
      @media (prefers-reduced-motion: no-preference) {
        .stars {
          /* Duração aumentada para um movimento mais lento e menos intensivo */
          animation: move-twink-back 300s linear infinite;
        }
        .stars2 {
          animation: move-twink-back 200s linear infinite;
        }
        .stars3 {
          animation: move-twink-back 120s linear infinite;
        }
      }

      /* Estilos do Tutorial */
      .tutorial-overlay {
        position: fixed;
        inset: 0;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 999;
        transition: opacity 0.3s ease-in-out;
      }

      .tutorial-highlight {
        position: absolute;
        box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.7), 0 0 15px 5px var(--color-accent);
        border: 2px solid var(--color-accent);
        border-radius: 4px;
        z-index: 1000;
        pointer-events: none; /* Permite clicar através do destaque se necessário (mas não queremos isso) */
        transition: all 0.3s ease-in-out;
      }
      
      .tutorial-popover {
        position: absolute;
        z-index: 1001;
        width: 300px;
        max-width: 90vw;
        padding: 1rem;
        animation: zoomInFade 0.3s ease-out;
      }

      /* Animações da Tela de Abertura */
      @keyframes splash-enter-anim {
        0% {
          transform: scale(0.8) rotate(-15deg);
          opacity: 0;
          filter: drop-shadow(0 0 1px var(--color-accent));
        }
        50% {
          transform: scale(1.1) rotate(5deg);
          opacity: 1;
          filter: drop-shadow(0 0 10px var(--color-accent));
        }
        100% {
          transform: scale(1) rotate(0deg);
          opacity: 1;
          filter: drop-shadow(0 0 5px var(--color-accent));
        }
      }
      .animate-splash-enter {
        animation: splash-enter-anim 1.5s ease-out forwards;
      }

      @keyframes splash-text-fade-in-anim {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .animate-splash-text-fade-in {
        opacity: 0; /* Começa invisível */
        animation: splash-text-fade-in-anim 0.8s ease-out 1s forwards; /* Delay de 1s para começar após o ícone */
      }

      @keyframes splash-fade-out-anim {
        0%, 80% {
          opacity: 1;
          pointer-events: auto;
        }
        100% {
          opacity: 0;
          pointer-events: none;
        }
      }
      .animate-splash-fade-out {
        /* A animação dura 3s no total. O fade out acontece nos últimos 20% (0.6s) */
        animation: splash-fade-out-anim 3s ease-in-out forwards;
      }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^18.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^18.2.0/",
    "react/": "https://aistudiocdn.com/react@^18.2.0/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.20.0",
    "react-dom": "https://aistudiocdn.com/react-dom@^18.2.0",
    "vite": "https://aistudiocdn.com/vite@^7.1.6",
    "@vitejs/plugin-react": "https://aistudiocdn.com/@vitejs/plugin-react@^5.0.3"
  }
}
</script>
</head>
  <body>
    <div class="stars"></div>
    <div class="stars2"></div>
    <div class="stars3"></div>
    <div id="root"></div>
    <div id="modal-root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>